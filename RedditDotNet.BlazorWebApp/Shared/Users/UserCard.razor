@using System.Web

<div class="card text-dark bg-light mb-1">
    <div class="card-body">
        <div class="row">
            <div class="col-auto d-flex justify-content-center flex-column">
                <img class="rounded user-profile-img"
                     src="@HttpUtility.HtmlDecode(AccountData.IconImg)" />
            </div>
            <div class="col">
                <h4 class="card-title">
                    @Title
                </h4>
                <h6 class="card-subtitle text-muted mb-1">
                    <a class="text-decoration-none"
                       href="/user/@AccountData.Name">
                        /u/@AccountData.Name
                    </a>
                </h6>
                <h6 class="card-subtitle text-muted mb-1">
                    Joined @AccountData.CreatedUTC.ToLocalDateTime()
                </h6>
                <h6 class="card-subtitle text-muted mb-1">
                    @AccountData.TotalKarma.ToDisplayString() Karma
                    (@AccountData.LinkKarma.ToDisplayString() Link,
                    @AccountData.CommentKarma.ToDisplayString() Comment)
                </h6>
                <div>
                    <Flair Over18="@(AccountData.Subreddit?.Over18 ?? false)"
                           Banned="@(AccountData.Subreddit?.UserIsBanned ?? false)"
                           Contributor="@(AccountData.Subreddit?.UserIsContributor ?? false)"
                           Moderator="@(AccountData.Subreddit?.UserIsModerator ?? false)"
                           Muted="@(AccountData.Subreddit?.UserIsMuted ?? false)"
                           Subscribed="@(AccountData.Subreddit?.UserIsSubscriber ?? false)" />
                </div>
                @if (!string.IsNullOrWhiteSpace(Description))
                {
                    @((MarkupString)HttpUtility.HtmlDecode(Description))
                }
            </div>
        </div>
    </div>
    <div class="card-footer">
        <div class="row">
            @if (RedditService.LoggedIn)
            {
                @if (AccountData.Subreddit != null)
                {
                    <div class="col-auto">
                        <button class="btn btn-light" @onclick="FollowButton_OnClick">
                            @(AccountData.Subreddit.UserIsSubscriber ?? false ? "Unfollow" : "Follow")
                        </button>
                    </div>
                }
                <div class="col-auto">
                    <button class="btn btn-light" @onclick="AddToMultiRedditButton_OnClick">
                        Add to MultiReddit
                    </button>
                </div>
            }
        </div>
    </div>
</div>